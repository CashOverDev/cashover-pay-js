!function(){"use strict";class t{static instance=new t;constructor(){if(t._instance)return t._instance;t._instance=this}pay({merchantUsername:t,storeUsername:e,amount:n,currency:a,metadata:s={}}){s.storeUserName=e;const r=`https://staging.cashover.money/pay?userName=${t}&amount=${n}&currency=${a}&metadata=${encodeURIComponent(JSON.stringify(s))}`;console.log(`This is url: ${r}`),window.open(r,"_blank")}}class e extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const e=document.createElement("button");e.textContent=this.getAttribute("label")||"Pay with CashOver",e.addEventListener("click",()=>{t.instance.pay({merchantUsername:this.getAttribute("merchantUsername"),storeUsername:this.getAttribute("storeUsername"),amount:parseFloat(this.getAttribute("amount")),currency:this.getAttribute("currency"),metadata:JSON.parse(this.getAttribute("metadata")||"{}")})}),this.shadowRoot.appendChild(e)}}customElements.define("cashover-pay-button",e),window.CashOverPayButton=e}();
